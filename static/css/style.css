:root {
    color-scheme: light dark;
    &:has(#theme-light:checked) {
        color-scheme: light;
    }
    &:has(#theme-dark:checked) {
        color-scheme: dark;
    }
    --secondary-bg: light-dark(#eee, #333);
    --border-color: light-dark(#ddd, #444);
    --border-color-strong: light-dark(#666, #888);
    --code-bg: light-dark(#f9f9f9, #2a2a2a);
    --blockquote-border: light-dark(#ccc, #555);
    --shadow-color: light-dark(#eee, #111);
    --hover-overlay: #0004;
    --active-overlay: #0006;
    --pressed-overlay: #0003;
    --pressed-shadow: rgba(0, 0, 0, 0.3);
}

body {
    max-width: 800px;
    margin: auto;
    padding: 1em;
    line-height: 1.5;
}

/* header and footer areas */
nav {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}
theme-picker {
    position: absolute;
    right: 0;
}
.menu {
    padding: 0;
    margin: 0;
}
.menu li {
    display: inline-block;
}
.article-meta,
.menu a {
    text-decoration: none;
    background: var(--secondary-bg);
    padding: 5px;
    border-radius: 5px;
}
.menu,
.article-meta,
footer {
    text-align: center;
}
.title {
    font-size: 1.1em;
}
footer a {
    text-decoration: none;
}
hr {
    border-style: dashed;
    color: var(--border-color);
}

/* code */
pre {
    border: 1px solid var(--border-color);
    box-shadow: 5px 5px 5px var(--shadow-color);
    padding: 1em;
    overflow-x: auto;
}
code {
    background: var(--code-bg);
}
pre code {
    background: none;
}

/* misc elements */
img,
iframe,
video {
    max-width: 100%;
}
main {
    hyphens: auto;
}
blockquote {
    background: var(--code-bg);
    border-left: 5px solid var(--blockquote-border);
    padding: 3px 1em 3px;
}

table {
    margin: auto;
    border-top: 1px solid var(--border-color-strong);
    border-bottom: 1px solid var(--border-color-strong);
}
table thead th {
    border-bottom: 1px solid var(--border-color);
}
th,
td {
    padding: 5px;
}
thead,
tfoot,
tr:nth-child(even) {
    background: var(--secondary-bg);
}

.box {
    background-color: var(--secondary-bg);
    padding: 1em;
    margin: 1em 0;
    border-radius: 5px;
}

.avatar {
    max-width: 15%;
    min-width: 40px;
    float: right;
    border-radius: 50%;
}

.retro-button {
    image-rendering: auto;
    image-rendering: crisp-edges;
    image-rendering: pixelated;
    image-rendering: -webkit-optimize-contrast;
    padding: 0.2rem;
}
.retro-buttons-container {
    display: flex;
    flex-direction: row;
    justify-content: center;
}
theme-picker {
    label {
        transition: background 0.08s, box-shadow 0.08s;
        &:hover {
            background: var(--hover-overlay);
        }
        &:active {
            background: var(--active-overlay);
        }
        &:has(:checked) {
            box-shadow: inset 2px 2px 4px var(--pressed-shadow);
            background: var(--pressed-overlay);
        }

        background: var(--secondary-bg);
        padding: 5px;
        border-radius: 5px;
        -webkit-user-select: none;
        user-select: none;
    }
    input {
        /* To allow screen reader to still access these. */
        opacity: 0;
        position: absolute;
        pointer-events: none;
    }
}
